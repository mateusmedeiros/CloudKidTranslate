(function(i,f,c){var e={};e.VERSION="1.0.5";var n=null,h=null,d=null,b=null,m=Array.prototype.slice;e.load=function(s,r,q){var p=null;if(typeof r=="function"){q=r}else{if(typeof r=="string"){p=r}}if(typeof s=="string"){var o=function(t){e.load(t,p);if(q){q()}};f.get(s,o,"json")}else{n=n||{};if(p){n[p]=s;d=p}else{f.extend(n,s)}j()}return e};e.fileSeparator="_";e.reset=function(){n=d=b=h=null;return e};e.autoDetect=function(o){var q=(i.navigator.userLanguage||i.navigator.language);o=(o===c)?true:o;var p=q.substr(0,2);d=o?[q,p]:p;j();return d};Object.defineProperty(e,"fallbackLocale",{set:function(o){b=o;j()},get:function(){return b}});Object.defineProperty(e,"locale",{set:function(o){d=o;j()},get:function(){return d}});var j=function(){if(!d||!n){return}h={};var o=k();for(var p=o.length-1;p>=0;p--){var q=o[p];f.extend(h,n[q]||{})}f("[data-localize]")._t();f("[data-localize-file]")._f()};var k=function(){var o=(typeof d=="string")?[d]:d.slice(0);if(b&&o.indexOf(b)==-1){o.push(b)}return o};var l=function(p){if(!h){throw"Must call Translate.load() before getting the translation"}if(typeof p=="string"&&p.indexOf(".")!=-1){var q=f.extend({},h);var o=p.split(".");while(o.length&&(q=q[o.shift()])){}if(q!=c){p=q}else{throw"No translation string found matching '"+p+"'"}}else{if(h.hasOwnProperty(p)&&typeof p=="string"){p=h[p]}else{throw"No translation string found matching '"+p+"'"}}args=m.call(arguments);args[0]=p;return a.apply(null,args)};var g=function(u){if(!d){return u}var p=k(),s=u.lastIndexOf("."),r=new XMLHttpRequest(),q,v;for(var t=0,o=p.length;t<o;t++){v=p[t];q=u.substring(0,s)+e.fileSeparator+v+u.substring(s,u.length);r.open("HEAD",q,false);r.send();if(r.status!=404){return q}}return u};var a=function(p,o){if(arguments.length<2){return p}o=f.isArray(o)?o:m.call(arguments,1);return p.replace(/([^%]|^)%(?:(\d+)\$)?s/g,function(s,r,q){if(q){return r+o[parseInt(q)-1]}return r+o.shift()}).replace(/%%s/g,"%s")};f.fn._t=function(){var o=arguments;return this.each(function(){var r=f(this);var q=m.call(o,0);if(q.length===0){var s=r.data("localize");var p=r.data("localize-values");if(!s){throw"Must either pass in a key to localize or use the data-localize attribute"}Array.prototype.push.call(q,s);if(p){q=q.concat(p.split(","))}}return r.html(l.apply(null,q))})};f.fn._f=function(o){var p=f(this);if(p.length===0){return}var q=p.data("localize-file")||p.attr("src");p.data("localize-file",q);return p.attr(o||"src",g(q))};i._t=l;i._f=g;namespace("cloudkid").Translate=e})(window,jQuery);